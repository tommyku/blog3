<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0" name="viewport" /><meta content="Adding HTML5 application cache to speed up your web app in 5 minutes - Tommy Ku&#39;s Blog - Random thoughts, stories and tutorials of a web dev" name="title" /><meta content="Web developer Tommy Ku talks about his experience in work, learning and life." name="description" /><meta content="Tommy Ku" name="author" /><meta content="Adding HTML5 application cache to speed up your web app in 5 minutes - Tommy Ku&#39;s Blog - Random thoughts, stories and tutorials of a web dev" property="og:title" /><meta content="article" property="og:type" /><meta content="/assets/images/banner.jpg" property="og:image" /><link href="/assets/images/author.jpg" rel="icon" type="image/png" /><link href="/atom.xml" rel="alternate" title="Tommy Ku&#39;s Method Stub" type="application/atom+xml" /><link href="https://webmention.tkcom.workers.dev/" rel="webmention" /><title>Adding HTML5 application cache to speed up your web app in 5 minutes - Tommy Ku&#39;s Blog</title><link href="/style/gutenberg.css" rel="stylesheet" /><link href="/style/prism.css" rel="stylesheet" /><meta content="Nanoc 4.11.15" name="generator" /></head><body><header><h2 class="h-card"><img alt="Profile pic of Tommy Ku" class="author u-photo" src="/assets/images/author.jpg" /><span class="p-name">Tommy Ku</span>'s Blog</h2><p><i>Reading and thinking</i></p></header><nav><a href="/">Index</a><a href="https://tommyku.com">About Me</a><a href="https://angel.co/tommyku">AngelList</a><a href="https://www.linkedin.com/in/tommy-chun-kit-ku-65aba999">LinkedIn</a><a rel="me" href="https://github.com/tommyku">GitHub</a><a href="/atom.xml">Feed</a></nav><main class="h-entry" id="main"><section id="meta"><h1 class="p-name">Adding HTML5 application cache to speed up your web app in 5 minutes</h1><i>Posted on&nbsp;<time class="dt-published" datetime="2015-03-16T00:00:00+08:00">March 16, 2015</time>&nbsp;by&nbsp;<span class="p-author">Tommy Ku</span></i><section id="old"><span class="icon">&#9888;</span><p>This post is more than 2 years old, it may contain outdated information</p></section></section><section class="e-content" id="content"><p><mark style="display: block; background-color: lightcoral; padding: .5em; font-style: italic;">
(2017-07-17) AppCache has been deprecated, see how to cache web pages using
ServiceWorker in <a href="../appcache-revisited">this post</a>.
</mark></p>

<p>OK, let’s do this in 5 minutes to get you started with HTML5 app cache.</p>

<h3 id="seconds">10 seconds</h3>

<div style="text-align: center;">
<img src="./caniuse.png" title="application cache browser support chart">
<br>
<small><em>source:</em> <a href="http://caniuse.com/">http://caniuse.com/</a></small>
</div>

<p>Save yourself the trouble if you have to support IE6.</p>

<h3 id="seconds-1">30 seconds</h3>

<p>Make a branch so we can do whatever we want.</p>

<pre><code class="language-bash">git checkout -b 'html5-app-cache'
</code></pre>

<h3 id="minute">1 minute</h3>

<p>Your server has to serve the manifest file in <code>text/cache-manifest</code> MIME type. Look it up how to setup this if you are not using Apache.</p>

<pre><code class="language-bash">nano .htaccess
</code></pre>

<pre><code class="language-apache"># add the following line for serving offline cache manifest
AddType text/cache-manifest .manifest
</code></pre>

<h3 id="minutes">2 minutes</h3>

<p>Specific the path to manifest file in your web app.</p>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html manifest="/cache.manifest"&gt;
  &lt;head&gt;
&lt;!-- everything else --&gt;
</code></pre>

<h3 id="minutes-1">3 minutes</h3>

<pre><code class="language-bash">touch cache.manifest
</code></pre>

<p>Write up the manifest itself, inside <code>cache.manifest</code>:</p>

<pre><code>CACHE MANIFEST
</code></pre>

<p>Now fire up your app and it <em>will not</em> work. Be patient, we still have 2 minutes.</p>

<p>Tab <code>F12</code> to enter Chrome DevTools</p>

<div style="text-align: center;">
<img src="./copyandpaste.png" title="A quick way to know what we wanna cache">
<br>
<small><em>Img:</em> A quick way to know what we wanna cache</small>
</div>

<h3 id="minutes-2">4 minutes</h3>

<p>Copy and paste the paths to whatever files we are supposed to cache from DevTools console warnings.</p>

<pre><code>CACHE MANIFEST

CACHE:
/js/app.js
/js/angular/angular.min.js
/js/angular-resource/angular-resource.min.js
/js/angular-sanitize/angular-sanitize.min.js
/css/base.css
/css/animate.css

NETWORK:
*
</code></pre>

<p>Everything listed under <code>CACHE</code> will be cached, other stuff like Google fonts are loaded as usual.</p>

<h3 id="minutes-3">5 minutes</h3>

<p>Now we are done. It is always a good idea to cache your web app to optimize page load time. In particular, when your web app is an utility app intended to be usable offline. There are more to do with <code>cache.manifest</code> such as version-based caches, hooks to manifest loading… The references below explain better how those features work. So far, I only need to cache my Javascript and CSS files.</p>

<p>Why 5 minutes? That’s because I had to wait for this.</p>

<div style="text-align: center;">
<img src="./992692498_85526273c4_z.jpg" title="cup noodle time!">
<br>
<small><em>source:</em> <a href="https://www.flickr.com/photos/oddharmonic/992692498/in/photostream/">Flickr</a></small>
</div>

<h3 id="references">References</h3>

<ol>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache">Using the application cache - HTML (HyperText Markup Language) | MDN</a></li>
  <li><a href="http://www.html5rocks.com/en/tutorials/appcache/beginner/">A Beginner’s Guide to Using the Application Cache - HTML5 Rocks</a></li>
</ol>
</section><section id="suggestions"><h2>You could also look at...</h2><ul id="article-list"><li><a href="../appcache-revisited/">AppCache revisited</a><p class="abstract">AppCache has been deprecated in favor or Service Worker for caching assets to be served when the device is offline</p></li><li><a href="../using-laravel-resource-controller-with-angularjs-ngresource/">Using Laravel resource controller with AngularJS ngResource</a><p class="abstract">An example of a RESTful API-based web app using Laravel 4.2 resource controller and AngularJS 1.4 NgResource</p></li><li><a href="../setup-gmail-smtp-on-openshift-hosted-laravel-app/">Setup Gmail SMTP on Openshift hosted Laravel app</a><p class="abstract">Instead of sending email through the server's own mailing server, you can use Gmail to send email, but you need to deal with Gmail's security policy first</p></li></ul></section><p>This post first appeared on&nbsp;<a class="u-url" href="https://blog.tommyku.com/blog/adding-html5-application-cache-to-speed-up-your-web-app-in-5-minutes/" id="permalink">Tommy Ku&#39;s blog</a>. Permalink: <a class="u-url" href="https://blog.tommyku.com/blog/adding-html5-application-cache-to-speed-up-your-web-app-in-5-minutes/" id="permalink">https://blog.tommyku.com/blog/adding-html5-application-cache-to-speed-up-your-web-app-in-5-minutes/</a></p><h2>About the author</h2><section class="h-card" id="bio"><img alt="Profile pic of Tommy Ku" class="u-photo" src="/assets/images/author.jpg" /><section class="p-note"><p><i><span class="p-author">Tommy Ku</span>, a&nbsp;<span class="p-country-name">Hong Kong</span>-based&nbsp;<span class="p-job-title">Software Engineer</span>&nbsp;experienced developing PHP and Java-based web solutions and passionate in Web technology.</i></p><p><i>Also a hobbyist digital and film photographer.</i></p></section></section></main><script src="/js/prism.js" type="text/javascript"></script><div id="disqus_thread"></div><script>var disqus_config = function () {
  this.page.url = "https://blog.tommyku.com/blog/adding-html5-application-cache-to-speed-up-your-web-app-in-5-minutes/";
  this.page.identifier = "adding-html5-application-cache-to-speed-up-your-web-app-in-5-minutes";
};

(function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = '//methodstub.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();</script><noscript>Please enable JavaScript to view the <a ,="" href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><hr /><footer></footer><a class="unloaded" href="https://blog.tommyku.com/blog/website-analytics-for-lazy-people" id="tracking-status" title="I know you viewed this page"></a><img onload="javascript: document.querySelector(&#39;#tracking-status&#39;).classList.replace(&#39;unloaded&#39;, &#39;loaded&#39;)" src="https://blog-view.tkcom.workers.dev/?https://blog.tommyku.com/blog/adding-html5-application-cache-to-speed-up-your-web-app-in-5-minutes/" style="width: 0px; height: 0px; margin: 0; padding: 0; visibility: hidden;" /></body></html>